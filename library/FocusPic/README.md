# ランダム画像ライトボックスプロジェクト

## プロジェクト概要

このプロジェクトは、JavaScript と CSS のみを使用して実装されたシンプルな画像ライトボックス（モーダル）機能を提供します。ユーザーが画像をクリックすると、選択された画像が画面の 75%のサイズでモーダル内に表示されます。画像がリンクで囲まれている場合、画像の説明（`alt`属性）がリンクとして表示され、クリックすると元のリンク先に移動します。`alt`属性がない場合は、リンク先の URL が直接表示されます。ナビゲーションボタンは含まれておらず、クリックした画像のみに焦点を当てる仕様となっています。

## 使用技術

- **HTML5**: 画像とその説明文の構造を定義。
- **CSS3**: モーダルのスタイルおよびレスポンシブデザインを実装。
- **JavaScript**: 画像クリック時のモーダル生成と表示、閉じる機能の制御。

## ディレクトリ構造

```
/your-project
│
├── index.html
├── styles.css
└── script.js
```

## セットアップ方法

1. **ファイルの配置**:

   - `index.html`, `styles.css`, `script.js` の 3 つのファイルをプロジェクトフォルダに配置します。
   - 使用する画像はすべてオンラインの無料画像サービス「https://picsum.photos/」を利用していますので、特別な画像ファイルの準備は不要です。

2. **ブラウザでの表示**:
   - プロジェクトフォルダ内の `index.html` ファイルをダブルクリックして、ブラウザで開きます。

## 使用方法

1. **画像の表示**:

   - ページ上に表示されている画像のいずれかをクリックします。

2. **モーダルの表示**:

   - クリックされた画像がモーダル内に表示され、画面の 75%の幅に統一されます。
   - モーダルには画像の説明文（`alt`属性）が表示されます。

3. **リンクの動作**:

   - 画像がリンク（`<a>`タグ）で囲まれている場合、`alt`属性が存在すればそのテキストがリンクとして表示され、クリックすると元のリンク先に移動します。
   - `alt`属性がない場合は、リンク先の URL が直接リンクとして表示されます。

4. **モーダルの閉じ方**:
   - モーダル内の閉じるボタン（×）をクリックする。
   - モーダルの背景部分をクリックする。
   - キーボードの Escape キーを押す。

## 仕様の詳細

- **モーダルのデザイン**:

  - 背景は半透明の黒で覆われ、モーダル内の画像は中央に配置されます。
  - 画像は画面幅の 75%に統一され、最大幅は 1200px に設定されています。
  - モーダル表示時には背景のスクロールが無効化されます。

- **リンクキャプションの処理**:

  - 画像がリンクで囲まれている場合、`alt`属性が存在する場合はそのテキストをリンクとして表示します。
  - `alt`属性がない場合は、リンク先の URL が直接表示されます。

- **レスポンシブデザイン**:
  - 画面幅が 768px 以下および 480px 以下の場合、モーダル内の要素のサイズが調整され、スマートフォンやタブレットでも適切に表示されます。

## デバッグの手順

ライトボックス機能が正しく動作しない場合、以下の手順で問題を解決してください。

1. **ブラウザのコンソール確認**:

   - ブラウザのデベロッパーツール（通常は `F12` キー）を開き、**Console**タブにエラーメッセージが表示されていないか確認します。エラーがある場合は、それに基づいてコードを修正します。

2. **画像のパス確認**:

   - すべての画像が正しい URL を指していることを確認します。`src`属性が正しいか、画像が正しく表示されているかチェックしてください。

3. **JavaScript の動作確認**:

   - `script.js`内のイベントリスナーが正しく動作しているか確認します。必要に応じて、`console.log`や`console.warn`を使用してデバッグメッセージを表示します。

4. **CSS の適用確認**:

   - すべての CSS が正しく適用されているか確認します。特に、`.modal`クラスの`display: none;`が正しく設定されていることを確認してください。

5. **キャッシュのクリア**:

   - 修正後にブラウザのキャッシュが原因で古いスクリプトやスタイルが読み込まれる場合があります。キャッシュをクリアしてページを再読み込みしてください。

6. **HTML の構文エラー確認**:
   - HTML ファイルに構文エラーがないか確認します。すべてのタグが正しく閉じられているか、属性が正しく設定されているかチェックしてください。

## 仕様の変更履歴

- **初期実装**:

  - 画像クリック時にモーダルが表示され、ナビゲーションボタン（前へ、次へ）がありました。

- **最新の変更**:
  - ナビゲーション機能を削除し、クリックされた画像のみを表示するように変更しました。
  - 画像がリンクで囲まれている場合のリンクキャプション表示を追加しました。

## 追加機能の提案

- **アニメーションの強化**:

  - モーダル表示時や閉じる際のアニメーション効果を追加して、より滑らかなユーザー体験を提供できます。

- **ズーム機能**:

  - モーダル内の画像をさらにズームイン・ズームアウトできる機能を追加できます。

- **スライドショー機能**:
  - 自動的に次の画像に移動するスライドショー機能を追加できます。
